---
title: Faturas pro-forma
description: Este tópico fornece informações sobre faturas pro-forma no Project Operations.
author: rumant
manager: AnnBe
ms.date: 04/05/2021
ms.topic: article
ms.prod: ''
ms.service: project-operations
ms.reviewer: kfend
ms.author: rumant
ms.openlocfilehash: b143ba286f25ecb23fea09a85bca06543f7f55ff
ms.sourcegitcommit: ca0fc078d1a12484eca193fe051b8442c0559db8
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/07/2021
ms.locfileid: "5866847"
---
# <a name="proforma-invoices"></a><span data-ttu-id="c08ed-103">Faturas pro-forma</span><span class="sxs-lookup"><span data-stu-id="c08ed-103">Proforma invoices</span></span>

<span data-ttu-id="c08ed-104">_**Aplicável A:** Project Operations para cenários baseados em recursos/sem estoque_</span><span class="sxs-lookup"><span data-stu-id="c08ed-104">_**Applies To:** Project Operations for resource/non-stocked based scenarios_</span></span>

<span data-ttu-id="c08ed-105">O faturamento pro-forma fornece aos gerentes de projeto um segundo nível de aprovação antes da criação das faturas para os clientes.</span><span class="sxs-lookup"><span data-stu-id="c08ed-105">Proforma invoicing gives project managers a second level of approval before they create invoices for customers.</span></span> <span data-ttu-id="c08ed-106">O primeiro nível de aprovação é concluído quando as entradas de tempo, despesa e material que os membros da equipe do projeto enviam são aprovadas.</span><span class="sxs-lookup"><span data-stu-id="c08ed-106">The first level of approval is completed when time, expense, and material entries that project team members submit are approved.</span></span> <span data-ttu-id="c08ed-107">As faturas pró-forma confirmadas estão disponíveis no módulo Contabilidade do Projeto do Project Operations.</span><span class="sxs-lookup"><span data-stu-id="c08ed-107">Confirmed proforma invoices are available in the Project Accounting module of Project Operations.</span></span> <span data-ttu-id="c08ed-108">Os contadores do projeto podem realizar atualizações adicionais, como imposto sobre vendas, contabilidade e layout da fatura.</span><span class="sxs-lookup"><span data-stu-id="c08ed-108">Project accountants can perform additional updates such as sales tax, accounting, and invoice layout.</span></span>


## <a name="creating-project-invoices"></a><span data-ttu-id="c08ed-109">Criar faturas de projeto</span><span class="sxs-lookup"><span data-stu-id="c08ed-109">Creating project invoices</span></span>

<span data-ttu-id="c08ed-110">As faturas do projeto podem ser criadas uma a uma ou em massa.</span><span class="sxs-lookup"><span data-stu-id="c08ed-110">Project invoices can be created one at a time or in bulk.</span></span> <span data-ttu-id="c08ed-111">Também é possível criá-las manualmente, ou elas podem ser configuradas para que sejam geradas em execuções automatizadas.</span><span class="sxs-lookup"><span data-stu-id="c08ed-111">You can create them manually, or they can be configured so that they are generated in automated runs.</span></span>

### <a name="manually-create-project-invoices"></a><span data-ttu-id="c08ed-112">Criar manualmente faturas de projeto</span><span class="sxs-lookup"><span data-stu-id="c08ed-112">Manually create project invoices</span></span> 

<span data-ttu-id="c08ed-113">Na página de lista **Contratos do Projeto**, é possível criar faturas do projeto separadamente para cada contrato de projeto ou criar faturas em massa para vários contratos de projeto.</span><span class="sxs-lookup"><span data-stu-id="c08ed-113">From the **Project Contracts** list page, you can create project invoices separately for each project contract, or you can create invoices in bulk for multiple project contracts.</span></span>

<span data-ttu-id="c08ed-114">Siga esta etapa a fim de criar uma fatura para um contrato de projeto específico.</span><span class="sxs-lookup"><span data-stu-id="c08ed-114">Follow this step to create an invoice for a specific project contract.</span></span>

- <span data-ttu-id="c08ed-115">Na página de lista **Contratos de Projeto**, abra um contrato de projeto e selecione **Criar Fatura**.</span><span class="sxs-lookup"><span data-stu-id="c08ed-115">On the **Project Contracts** list page, open a project contract, and then select **Create Invoice**.</span></span>

    <span data-ttu-id="c08ed-116">Uma fatura é gerada para todas as transações do contrato de projeto selecionado que tem um status de **Pronto para Faturar**.</span><span class="sxs-lookup"><span data-stu-id="c08ed-116">An invoice is generated for all transactions for the selected project contract that have a status of **Ready to Invoice**.</span></span> <span data-ttu-id="c08ed-117">Essas transações incluem tempo, despesas, materiais, marcos e outras linhas de diário de vendas não faturadas.</span><span class="sxs-lookup"><span data-stu-id="c08ed-117">These transactions include time, expenses, materials, milestones, and other unbilled sales journal lines.</span></span>

<span data-ttu-id="c08ed-118">Siga estas etapas para criar faturas em massa.</span><span class="sxs-lookup"><span data-stu-id="c08ed-118">Follow these steps to create invoices in bulk.</span></span>

1. <span data-ttu-id="c08ed-119">Na página de lista **Contratos de Projeto**, selecione um ou mais contratos de projeto para os quais você deve criar uma fatura e selecione **Criar Faturas do Projeto**.</span><span class="sxs-lookup"><span data-stu-id="c08ed-119">On the **Project Contracts** list page, select one or more project contracts that you must create an invoice for, and then select **Create Project Invoices**.</span></span>

    <span data-ttu-id="c08ed-120">Uma mensagem de aviso informa que pode haver um atraso antes da criação das faturas.</span><span class="sxs-lookup"><span data-stu-id="c08ed-120">A warning message informs you that there might be a delay before invoices are created.</span></span> <span data-ttu-id="c08ed-121">O processo também é mostrado.</span><span class="sxs-lookup"><span data-stu-id="c08ed-121">The process is also shown.</span></span>

2. <span data-ttu-id="c08ed-122">Selecione **OK** para fechar a caixa da mensagem.</span><span class="sxs-lookup"><span data-stu-id="c08ed-122">Select **OK** to close the message box.</span></span>

    <span data-ttu-id="c08ed-123">Uma fatura é gerada para todas as transações em uma linha de contrato com um status de **Pronto para Faturar**.</span><span class="sxs-lookup"><span data-stu-id="c08ed-123">An invoice is generated for all transactions on a contract line that have a status of **Ready to Invoice**.</span></span> <span data-ttu-id="c08ed-124">Essas transações incluem tempo, despesas, materiais, marcos e outras linhas de diário de vendas não faturadas.</span><span class="sxs-lookup"><span data-stu-id="c08ed-124">These transactions include time, expenses, materials, milestones, and other unbilled sales journal lines.</span></span>

3. <span data-ttu-id="c08ed-125">Para exibir as faturas que são geradas, vá para **Vendas** \> **Cobrança** \> **Faturas**.</span><span class="sxs-lookup"><span data-stu-id="c08ed-125">To view the invoices that are generated, go to **Sales** \> **Billing** \> **Invoices**.</span></span> <span data-ttu-id="c08ed-126">Você verá uma fatura para cada contrato de projeto.</span><span class="sxs-lookup"><span data-stu-id="c08ed-126">You will see one invoice for each project contract.</span></span>

### <a name="set-up-automated-creation-of-project-invoices"></a><span data-ttu-id="c08ed-127">Configurar a criação automatizada de faturas de projeto</span><span class="sxs-lookup"><span data-stu-id="c08ed-127">Set up automated creation of project invoices</span></span> 

<span data-ttu-id="c08ed-128">Siga estas etapas para configurar a execução de uma fatura automatizada.</span><span class="sxs-lookup"><span data-stu-id="c08ed-128">Follow these steps to configure an automated invoice run.</span></span>

1. <span data-ttu-id="c08ed-129">Vá para **Configurações** \> **Trabalhos em lote**.</span><span class="sxs-lookup"><span data-stu-id="c08ed-129">Go to **Settings** \> **Batch jobs**.</span></span>
2. <span data-ttu-id="c08ed-130">Crie um trabalho em lote e denomine-o **Faturas de Criação do Project Operations**.</span><span class="sxs-lookup"><span data-stu-id="c08ed-130">Create a batch job, and name it **Project Operations Create Invoices**.</span></span> <span data-ttu-id="c08ed-131">O nome do trabalho em lote deve incluir o termo "Criar Faturas".</span><span class="sxs-lookup"><span data-stu-id="c08ed-131">The name of the batch job must include the term "Create Invoices."</span></span>
3. <span data-ttu-id="c08ed-132">No campo **Tipo de trabalho**, selecione **Nenhum**.</span><span class="sxs-lookup"><span data-stu-id="c08ed-132">In the **Job type** field, select **None**.</span></span> <span data-ttu-id="c08ed-133">Por padrão, as opções **Frequência Diária** e **Está Ativo** são definidas como **Sim**.</span><span class="sxs-lookup"><span data-stu-id="c08ed-133">By default, the **Frequency Daily** and **Is Active** options are set to **Yes**.</span></span>
4. <span data-ttu-id="c08ed-134">Selecione **Executar Fluxo de Trabalho**.</span><span class="sxs-lookup"><span data-stu-id="c08ed-134">Select **Run Workflow**.</span></span> <span data-ttu-id="c08ed-135">Na caixa de diálogo **Pesquisar Registro**, você verá três fluxos de trabalho:</span><span class="sxs-lookup"><span data-stu-id="c08ed-135">In the **Look Up Record** dialog box, you will see three workflows:</span></span>

    - <span data-ttu-id="c08ed-136">ProcessRunCaller</span><span class="sxs-lookup"><span data-stu-id="c08ed-136">ProcessRunCaller</span></span>
    - <span data-ttu-id="c08ed-137">ProcessRunner</span><span class="sxs-lookup"><span data-stu-id="c08ed-137">ProcessRunner</span></span>
    - <span data-ttu-id="c08ed-138">UpdateRoleUtilization</span><span class="sxs-lookup"><span data-stu-id="c08ed-138">UpdateRoleUtilization</span></span>

5. <span data-ttu-id="c08ed-139">Selecione **ProcessRunCaller** e selecione **Adicionar**.</span><span class="sxs-lookup"><span data-stu-id="c08ed-139">Select **ProcessRunCaller**, and then select **Add**.</span></span>
6. <span data-ttu-id="c08ed-140">Na próxima caixa de diálogo, selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="c08ed-140">In the next dialog box, select **OK**.</span></span> <span data-ttu-id="c08ed-141">Um fluxo de trabalho **Suspender** é seguido por um fluxo de trabalho **Processar**.</span><span class="sxs-lookup"><span data-stu-id="c08ed-141">A **Sleep** workflow is followed by a **Process** workflow.</span></span>

    <span data-ttu-id="c08ed-142">Também é possível selecionar **ProcessRunner** na etapa 5.</span><span class="sxs-lookup"><span data-stu-id="c08ed-142">You can also select **ProcessRunner** in step 5.</span></span> <span data-ttu-id="c08ed-143">Em seguida, quando você selecionar **OK**, um fluxo de trabalho **Processar** é seguido por um fluxo de trabalho **Suspender**.</span><span class="sxs-lookup"><span data-stu-id="c08ed-143">Then, when you select **OK**, a **Process** workflow is followed by a **Sleep** workflow.</span></span>

<span data-ttu-id="c08ed-144">Os fluxos de trabalho **ProcessRunCaller** e **ProcessRunner** criam faturas.</span><span class="sxs-lookup"><span data-stu-id="c08ed-144">The **ProcessRunCaller** and **ProcessRunner** workflows create invoices.</span></span> <span data-ttu-id="c08ed-145">**ProcessRunCaller** chama **ProcessRunner**.</span><span class="sxs-lookup"><span data-stu-id="c08ed-145">**ProcessRunCaller** calls **ProcessRunner**.</span></span> <span data-ttu-id="c08ed-146">**ProcessRunner** é o fluxo de trabalho que de fato cria as faturas.</span><span class="sxs-lookup"><span data-stu-id="c08ed-146">**ProcessRunner** is the workflow that actually creates the invoices.</span></span> <span data-ttu-id="c08ed-147">Ele passa por todas as linhas de contrato para as quais as faturas devem ser criadas e cria faturas para essas linhas.</span><span class="sxs-lookup"><span data-stu-id="c08ed-147">It goes through all the contract lines that invoices must be created for, and it creates invoices for those lines.</span></span> <span data-ttu-id="c08ed-148">A fim de determinar as linhas de contrato para as quais as faturas devem ser criadas, o trabalho examina as datas de execução de fatura das linhas de contrato.</span><span class="sxs-lookup"><span data-stu-id="c08ed-148">To determine the contract lines that invoices must be created for, the job looks at invoice run dates for the contract lines.</span></span> <span data-ttu-id="c08ed-149">Se as linhas de contrato que pertencem a um contrato tiverem a mesma data de execução de fatura, as transações serão combinadas em uma fatura que tenha duas linhas de fatura.</span><span class="sxs-lookup"><span data-stu-id="c08ed-149">If contract lines that belong to one contract have the same invoice run date, the transactions are combined into one invoice that has two invoice lines.</span></span> <span data-ttu-id="c08ed-150">Se não houver transações para as quais criar faturas, o trabalho pulará a etapa de criação de fatura.</span><span class="sxs-lookup"><span data-stu-id="c08ed-150">If there are no transactions to create invoices for, the job skips invoice creation.</span></span>

<span data-ttu-id="c08ed-151">Quando **ProcessRunner** termina de ser executado, ele chama **ProcessRunCaller**, fornece a hora de término e é fechado.</span><span class="sxs-lookup"><span data-stu-id="c08ed-151">After **ProcessRunner** has finished running, it calls **ProcessRunCaller**, provides the end time, and is closed.</span></span> <span data-ttu-id="c08ed-152">**ProcessRunCaller** então inicia um timer que é executado por 24 horas a partir da hora de término especificada.</span><span class="sxs-lookup"><span data-stu-id="c08ed-152">**ProcessRunCaller** then starts a timer that runs for 24 hours from the specified end time.</span></span> <span data-ttu-id="c08ed-153">Ao fim do timer, **ProcessRunCaller** é fechado.</span><span class="sxs-lookup"><span data-stu-id="c08ed-153">At the end of the timer, **ProcessRunCaller** is closed.</span></span>

<span data-ttu-id="c08ed-154">O trabalho do processo em lote para criação de faturas é um trabalho recorrente.</span><span class="sxs-lookup"><span data-stu-id="c08ed-154">The batch process job for creating invoices is a recurrent job.</span></span> <span data-ttu-id="c08ed-155">Se esse processo em lote for executado muitas vezes, várias instâncias do trabalho serão criadas e causarão erros.</span><span class="sxs-lookup"><span data-stu-id="c08ed-155">If this batch process is run many times, multiple instances of the job are created and cause errors.</span></span> <span data-ttu-id="c08ed-156">Portanto, você deve iniciar o processo em lote apenas uma vez, assim como deve reiniciá-lo apenas se a execução for interrompida.</span><span class="sxs-lookup"><span data-stu-id="c08ed-156">Therefore, you should start the batch process only one time, and you should restart it only if it stops running.</span></span>

> [!NOTE]
> <span data-ttu-id="c08ed-157">O faturamento em lote só é executado para linhas de contrato de projeto configuradas por agendas de faturas.</span><span class="sxs-lookup"><span data-stu-id="c08ed-157">Batch invoicing only runs for project contract lines that are configured by invoice schedules.</span></span> <span data-ttu-id="c08ed-158">Uma linha de contrato com um método de cobrança de preço fixo deve ter marcos configurados.</span><span class="sxs-lookup"><span data-stu-id="c08ed-158">A contract line with a fixed price billing method must have milestones configured.</span></span> <span data-ttu-id="c08ed-159">Uma linha de contrato do projeto com um método de cobrança de horas e de material precisará de uma configuração de agenda de faturas baseada em data.</span><span class="sxs-lookup"><span data-stu-id="c08ed-159">A project contract line with a time and material billing method will need a date-based invoice schedule set up.</span></span> <span data-ttu-id="c08ed-160">O mesmo se aplica a um projeto baseado em linha de contrato.</span><span class="sxs-lookup"><span data-stu-id="c08ed-160">The same applies to a project-based contract line.</span></span>      
 
### <a name="edit-a-draft-invoice"></a><span data-ttu-id="c08ed-161">Editar uma fatura de rascunho</span><span class="sxs-lookup"><span data-stu-id="c08ed-161">Edit a draft invoice</span></span>

<span data-ttu-id="c08ed-162">Quando você cria um rascunho de fatura de projeto, todas as transações de vendas não faturadas que foram criadas quando as entradas de tempo, despesas e uso de material foram aprovadas são reunidas na fatura.</span><span class="sxs-lookup"><span data-stu-id="c08ed-162">When you create a draft project invoice, all unbilled sales transactions that were created when the time, expense, and material usage entries were approved are pulled onto the invoice.</span></span> <span data-ttu-id="c08ed-163">É possível fazer os seguintes ajustes enquanto a fatura estiver em um estágio de rascunho:</span><span class="sxs-lookup"><span data-stu-id="c08ed-163">You can make the following adjustments while the invoice is still in a draft stage:</span></span>

- <span data-ttu-id="c08ed-164">Excluir ou editar detalhes da linha da fatura.</span><span class="sxs-lookup"><span data-stu-id="c08ed-164">Delete or edit invoice line details.</span></span>
- <span data-ttu-id="c08ed-165">Editar e ajustar a quantidade e o tipo de cobrança.</span><span class="sxs-lookup"><span data-stu-id="c08ed-165">Edit and adjust the quantity and billing type.</span></span>

<span data-ttu-id="c08ed-166">Selecione **Confirmar** para confirmar uma fatura.</span><span class="sxs-lookup"><span data-stu-id="c08ed-166">Select **Confirm** to confirm an invoice.</span></span> <span data-ttu-id="c08ed-167">A ação Confirmar é uma ação unidirecional.</span><span class="sxs-lookup"><span data-stu-id="c08ed-167">The Confirm action is a one-way action.</span></span> <span data-ttu-id="c08ed-168">Quando você seleciona **Confirmar**, o sistema torna a fatura somente leitura e cria dados reais de vendas cobradas de cada detalhe de linha de fatura para cada linha de fatura.</span><span class="sxs-lookup"><span data-stu-id="c08ed-168">When you select **Confirm**, the system makes the invoice read-only and creates billed sales actuals from each invoice line detail for each invoice line.</span></span> <span data-ttu-id="c08ed-169">Se os detalhes da linha da fatura fizerem referência a dados reais de vendas não cobradas, o sistema também reverterá os dados reais de vendas não cobradas.</span><span class="sxs-lookup"><span data-stu-id="c08ed-169">If the invoice line detail references an unbilled sales actual, the system also reverses the unbilled sales actual.</span></span> <span data-ttu-id="c08ed-170">(Todos os detalhes da linha da fatura que foram criados de uma entrada de tempo ou despesa farão referência a dados reais de vendas não cobradas.) Os sistemas de integração de contabilidade podem usar essa reversão para reverter o WIP (trabalho em andamento) do projeto para fins de contabilidade.</span><span class="sxs-lookup"><span data-stu-id="c08ed-170">(Any invoice line detail that was created from a time or expense entry will reference an unbilled sales actual.) General ledger integration systems can use this reversal to reverse project work in progress (WIP) for accounting purposes.</span></span>

### <a name="correct-a-confirmed-invoice"></a><span data-ttu-id="c08ed-171">Corrigir uma fatura confirmada</span><span class="sxs-lookup"><span data-stu-id="c08ed-171">Correct a confirmed invoice</span></span>

<span data-ttu-id="c08ed-172">As faturas confirmadas podem ser editadas (corrigidas).</span><span class="sxs-lookup"><span data-stu-id="c08ed-172">Confirmed invoices can be edited (corrected).</span></span> <span data-ttu-id="c08ed-173">Quando você corrige uma fatura confirmada, um novo rascunho de fatura corretiva é criado.</span><span class="sxs-lookup"><span data-stu-id="c08ed-173">When you correct a confirmed invoice, a new draft corrective invoice is created.</span></span> <span data-ttu-id="c08ed-174">Como a suposição é de que você quer reverter todas as transações e quantidades da fatura original, essa fatura corretiva inclui todas as transações da fatura original, e todas as quantidades nela serão 0 (zero).</span><span class="sxs-lookup"><span data-stu-id="c08ed-174">Because the assumption is that you want to reverse all the transactions and quantities from the original invoice, this corrective invoice includes all the transactions from the original invoice, and all the quantities on it are 0 (zero).</span></span>

<span data-ttu-id="c08ed-175">Se não houver transação para corrigir, você poderá removê-las do rascunho de fatura corretiva.</span><span class="sxs-lookup"><span data-stu-id="c08ed-175">If any transactions don't require correction, you can remove them from the draft corrective invoice.</span></span> <span data-ttu-id="c08ed-176">Se quiser reverter ou retornar apenas uma quantidade parcial, você poderá editar o campo **Quantidade** nos detalhes da linha.</span><span class="sxs-lookup"><span data-stu-id="c08ed-176">If you want to reverse or return only a partial quantity, you can edit the **Quantity** field on the line detail.</span></span> <span data-ttu-id="c08ed-177">Se você abrir os detalhes da linha da fatura, será possível ver a quantidade da fatura original.</span><span class="sxs-lookup"><span data-stu-id="c08ed-177">If you open the invoice line detail, you can see the original invoice quantity.</span></span> <span data-ttu-id="c08ed-178">É possível editar a quantidade da fatura atual para que seja menor ou maior que a quantidade da fatura original.</span><span class="sxs-lookup"><span data-stu-id="c08ed-178">You can then edit the current invoice quantity so that it's less than or more than the original invoice quantity.</span></span>

<span data-ttu-id="c08ed-179">Quando você confirma uma fatura corretiva, os dados reais de vendas cobradas originais são revertidos e novos dados reais de vendas cobradas são criados.</span><span class="sxs-lookup"><span data-stu-id="c08ed-179">When you confirm a corrective invoice, the original billed sales actual is reversed, and a new billed sales actual is created.</span></span> <span data-ttu-id="c08ed-180">Se a quantidade foi reduzida, a diferença também fará com que novos dados reais de vendas não cobradas sejam criados.</span><span class="sxs-lookup"><span data-stu-id="c08ed-180">If the quantity was reduced, the difference will cause a new unbilled sales actual to be created too.</span></span> <span data-ttu-id="c08ed-181">Por exemplo, se a venda cobrada original for por oito horas e os detalhes da linha da fatura corrigida tiverem uma quantidade reduzida de seis horas, a linha de vendas cobradas original será revertida e dois novos dados efetivos serão criados:</span><span class="sxs-lookup"><span data-stu-id="c08ed-181">For example, if the original billed sale was for eight hours, and the corrective invoice line detail has a reduced quantity of six hours, the original billed sales line is reversed and two new actuals are created:</span></span>

- <span data-ttu-id="c08ed-182">Dados reais de vendas cobradas por seis horas.</span><span class="sxs-lookup"><span data-stu-id="c08ed-182">A billed sales actual for six hours.</span></span>
- <span data-ttu-id="c08ed-183">Dados reais de vendas não cobradas pelas duas horas restantes.</span><span class="sxs-lookup"><span data-stu-id="c08ed-183">An unbilled sales actual for the remaining two hours.</span></span> <span data-ttu-id="c08ed-184">Essa transação pode ser cobrada posteriormente ou marcada como não passível de cobrança, dependendo das negociações com o cliente.</span><span class="sxs-lookup"><span data-stu-id="c08ed-184">This transaction can either be billed later or marked as non-chargeable, depending on the negotiations with the customer.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]
